@model IEnumerable<Weight_Scales.dto.response.WeightRecord>

@{
    ViewData["Title"] = "Weight Records";
}

<h2>Weight Records</h2>

@if (Model != null && Model.Any())
{
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Date</th>
                <th>Vehicle No</th>
                <th>Reference No</th>
                <th>Station Name</th>
                <th>Total Weight</th>
                <th>Total Weight Limit</th>
                <th>Station ID</th>
                <th>Lane ID</th>
                <th>Motorway Name</th>
                <th>EVehicle Sort</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var record in Model)
            {
                <tr>
                    <td>@record.Date</td>
                    <td>@record.Vehicle_No</td>
                    <td>@record.Reference_No</td>
                    <td>@record.STATION_NAME</td>
                    <td>@record.TOTAL_WEIGHT</td>
                    <td>@record.TOTAL_WEIGHT_LIMIT</td>
                    <td>@record.STATION_ID</td>
                    <td>@record.LANE_ID</td>
                    <td>@record.MOTORWAY_NAME</td>
                    <td>@record.E_VEH_SORT</td>
                    <td>
                        <button class="btn btn-primary" onclick="printRecord('@record.Reference_No')">Print</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-warning">
        No weight records found.
    </div>
}

@section Scripts {
    <script>
        function printRecord(referenceNo) {
            // For demonstration purposes, we're using the console log.
            // You might implement the actual printing logic here.

            // For example, you can navigate to a dedicated print page or open a print dialog
            console.log('Print record with Reference No: ' + referenceNo);

            // You could open a new window or tab with the print layout
            // window.open('/path-to-your-print-page?refNo=' + referenceNo, '_blank');
        }
    </script>
}
